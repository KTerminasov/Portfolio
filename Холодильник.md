```python
from decimal import Decimal
from datetime import date, datetime

# Пример аргументов: goods, 'Пельмени Универсальные', Decimal('0.25'), '2024-11-01'
def add(items, title, amount, expiration_date=None):
    expiration_date = datetime.strptime(expiration_date, '%Y-%m-%d').date()
    if title in items:
        items[title].append({'amount':Decimal(amount), 'expiration_date': expiration_date})
    else:
        items[title] = {'amount':Decimal(amount), 'expiration_date': expiration_date}

# Пример аргументов: goods, 'Яйца 4 2023-07-15;
def add_by_note(items, note):
    note = note.split()
    if len(note) == 2:
        add(items, note[0], note[1])
    else:
        add(items, note[0], note[1], note[2])
```
Финальный проект спринта: приложение «Холодильник»
Холодильник — это не просто красивый шкаф: это источник света и еды. И чтобы содержимое холодильника всегда было в порядке — требуется постоянный контроль: владелец холодильника должен знать, какие продукты хранятся в холодильнике и каков их срок хранения. 
Что надо сделать
Вам предстоит написать программу, которая будет:
хранить перечень продуктов, их количество и срок годности;
позволит добавлять новые продукты в перечень продуктов;
позволит получать информацию о содержимом холодильника.

goods = {
    'Пельмени Универсальные': [
        # Первая партия продукта 'Пельмени Универсальные':
        {'amount': Decimal('0.5'), 'expiration_date': datetime.date(2023, 7, 15)},
        # Вторая партия продукта 'Пельмени Универсальные':
        {'amount': Decimal('2'), 'expiration_date': datetime.date(2023, 8, 1)},
    ],
    'Вода': [
        {'amount': Decimal('1.5'), 'expiration_date': None}
    ],
} 
В примере видно, что продукт «Вода» закуплен один раз в объёме 1.5 кг. Однако продукт с одним и тем же названием может быть закуплен и добавлен в холодильник несколько раз.
Например, неделю назад пользователь купил килограмм пельменей под названием «Универсальные», половину съел, а потом пошёл и купил ещё два килограмма. Название у продукта одно и то же, но срок хранения может оказаться разным. Каждую такую закупку мы будем называть партия продукта.
Таким образом, у любителя пельменей в холодильнике окажется две партии продукта «Пельмени Универсальные». В первой партии будет 0.5 кг продукта, во второй — 2 кг. Срок хранения у этих партий тоже будет разным.
Ключ каждого элемента словаря — это название определённого продукта. Значение каждого элемента словаря — это список словарей.
Каждый вложенный словарь содержит два элемента:
amount — количество продукта.
expiration_date — срок годности.
Количество продукта — это:
целое число для исчисляемых продуктов (в штуках: например, значение 10 для яиц);
дробное число для весовых продуктов (в килограммах: например, значение 1.5 для воды).
Если срок годности не указан, вместо него должно быть указано None.
Добавление и получение информации
В программе должно быть пять функций для управления содержимым холодильника:
add() — добавляет продукт в словарь goods;
add_by_note() — добавляет продукт в словарь goods, преобразуя текстовое описание продукта в структурированные данные;
find() — ищет в словаре goods заданное слово или строку и возвращает список продуктов, в названии которых есть это слово;
amount() — возвращает количество запрошенного продукта;
expire() — возвращает список просроченных продуктов.

одробное описание функций
Добавление продукта: функция add()
Когда пользователь что-то кладёт в холодильник, он должен добавить в словарь goods очередную партию продукта. Для этого применяется функция add().
Если в словаре уже есть ключ, совпадающий с названием добавляемого продукта — новая партия продукта должна быть добавлена в список, хранящийся под этим ключом.
Если такого продукта в словаре goods нет — в словарь надо добавить новый элемент.

# В словаре уже есть продукт "Пельмени Универсальные"
goods = {
    'Пельмени Универсальные': [
        {'amount': Decimal('0.5'), 'expiration_date': datetime.date(2023, 9, 30)}
    ]
}

# Пользователь купил ещё два килограмма пельменей с тем же названием.
# Добавляем покупку в словарь goods:
add(goods, 'Пельмени Универсальные', Decimal('2'), '2023-10-28')

# Словарь goods должен стать таким:

# goods = {
#     'Пельмени Универсальные': [
#         {'amount': Decimal('0.5'), 'expiration_date': datetime.date(2023, 9, 30)}
#         {'amount': Decimal('2'), 'expiration_date': datetime.date(2023, 10, 28)}
#     ]
# } 
Параметры функции add()
У функции add() должно быть четыре параметра:

add(items, title, amount, expiration_date=None) 
items — словарь, который хранит список продуктов (goods).
title — название добавляемого продукта, строка. Может содержать пробелы.
amount — количество добавляемого продукта.
expiration_date — срок годности добавляемого продукта, строка в формате %Y-%m-%d, например '2023-9-30'. Это необязательный параметр.
Возвращаемое значение
Функция добавляет в словарь goods новые данные и не возвращает никакого значения.
Пример объявления и использования

import datetime
from decimal import Decimal

# Холодильник пуст:
goods = {}

def add(items, title, amount, expiration_date=None):
    pass  # Код, который добавляет продукты в словарь goods.

# Добавляем продукт с названием 'Яйца', количество - 10 шт.
add(goods, 'Яйца', Decimal('10'), '2023-9-30')

# Словарь goods должен стать таким:

# {
#     'Яйца': [
#         {'amount': Decimal('10'), 'expiration_date': datetime.date(2023, 9, 30)}
#     ]
# }

# Снова добавляем продукт с тем же названием, количество - 3 шт.
add(goods, 'Яйца', Decimal('3'), '2023-10-15')

# Словарь goods должен стать таким:

# {
#     'Яйца': [
#         {'amount': Decimal('10'), 'expiration_date': datetime.date(2023, 9, 30)},
#         {'amount': Decimal('3'), 'expiration_date': datetime.date(2023, 10, 15)}
#     ]
# }

# Добавляем продукт с названием 'Вода', количество - 2.5 кг
add(goods, 'Вода', Decimal('2.5'))

# Словарь goods должен стать таким:

# {
#     'Яйца': [
#         {'amount': Decimal('10'), 'expiration_date': datetime.date(2023, 9, 30)},
#         {'amount': Decimal('3'), 'expiration_date': datetime.date(2023, 10, 15)}
#     ],
#     'Вода': [
#         {'amount': Decimal('2.5'), 'expiration_date': None}
#     ]
# } 
Добавление продукта из текстовой заметки: функция add_by_note()
Эта функция предназначена для того, чтобы упростить добавление продуктов в словарь goods. В функцию add_by_note() передаётся строка с описанием продукта; функция должна преобразовать строку в структурированные данные и добавить новый продукт в словарь.
Купленный продукт можно описать такой строчкой:
# <название> <количество> <срок годности>
Яйца 4 2023-07-15 
Эту строку нужно передать в функцию add_by_note() — и продукт, описанный в строке, должен быть добавлен в словарь goods.
Строка содержит:
Название продукта. Может содержать пробелы.
Количество продукта. Значение может быть дробным, дробная часть отделяется точкой.
Срок годности в формате %Y-%m-%d. Может отсутствовать.
Параметры функции add_by_note()
У функции add_by_note() должно быть два параметра:

add_by_note(items, note) 
items — словарь, который хранит список продуктов (goods).
note — строка с информацией о продукте.
Возвращаемое значение
Функция add_by_note() добавляет в словарь goods новый продукт и не возвращает никакого значения.
Пример объявления и использования

import datetime
from decimal import Decimal

# Холодильник пуст:
goods = {}

def add_by_note(items, note):
    pass  # Здесь код, который преобразует строку note 
          # в структурированный набор данных и добавляет продукт в словарь.

# Добавляем продукт с названием 'Яйца гусиные', количество - 4 шт.
add_by_note(goods, 'Яйца гусиные 4 2023-07-15')

# Словарь goods должен стать таким:

# goods = {
#     'Яйца гусиные': [
#         {'amount': Decimal('4'), 'expiration_date': datetime.date(2023, 7, 15)}
#     ]
# } 
Поиск по названию продукта: функция find()
Поиск продуктов в холодильнике — нервное и утомительное занятие. Функция find() найдёт продукты по ключевому слову.
Параметры функции find()
У функции find() должно быть два параметра:

find(items, needle) 
items — словарь, который хранит список продуктов (goods).
needle — строка, по которой осуществляется поиск. Поиск должен быть нечувствителен к регистру.
Возвращаемое значение
Функция должна вернуть названия продуктов, которые содержат искомую строку. Найденные названия должны вернуться в виде списка.
Пример объявления и использования

import datetime
from decimal import Decimal

goods = {
    'Яйца': [{'amount': Decimal('1'), 'expiration_date': datetime.date(2023, 6, 24)}],
    'Яйца гусиные': [{'amount': Decimal('4'), 'expiration_date': datetime.date(2023, 7, 15)}],
    'Морковь': [{'amount': Decimal('2'), 'expiration_date': datetime.date(2023, 8, 6)}]
}

def find(items, needle):
    pass

# Ищем продукты, в названии которых есть подстрока "йц". 
# Регистр символов не должен влиять на поиск.
print(find(goods, 'йц'))
# Вывод: ['Яйца', 'Яйца гусиные'] 
Узнать количество продукта: функция amount()
Один и тот же продукт мог быть закуплен несколько раз, в результате словарь goods будет хранить информацию о нескольких партиях этого продукта:

goods = {
    'Морковь': [  # Продукт "Морковь" покупали дважды:
        {'amount': Decimal('2'), 'expiration_date': datetime.date(2023, 8, 1)},
        {'amount': Decimal('3'), 'expiration_date': datetime.date(2023, 8, 6)}
    ]
} 
Функция amount() предназначена для определения количества продукта с заданным названием. Эта функция должна вернуть число: общее количество продуктов, названия которых частично или полностью совпадают со строкой, переданной в параметры.
Параметры функции amount()
У функции amount() должно быть два параметра:

amount(items, needle) 
items — словарь, который хранит список продуктов (goods).
needle — строка для поиска продукта. Поиск должен быть нечувствителен к регистру.
Возвращаемое значение
Функция возвращает общее количество запрошенного продукта — число типа Decimal.
Пример объявления и использования

import datetime
from decimal import Decimal

goods = {
    'Яйца': [{'amount': Decimal('1'), 'expiration_date': None}],
    'Морковь': [
        {'amount': Decimal('2'), 'expiration_date': datetime.date(2023, 8, 1)},
        {'amount': Decimal('3'), 'expiration_date': datetime.date(2023, 8, 6)}
    ],
    'Вода': [{'amount': Decimal('2.5'), 'expiration_date': None}]
}

def amount(items, needle):
    pass

print(amount(goods, 'яйца'))
# Вывод: 1
print(amount(goods, 'морковь'))
# Вывод: 5 
Получить список просроченных продуктов: функция expire()
Эта функция должна вернуть список продуктов, срок годности которых истёк или истечёт через указанное количество дней. Для каждого найденного продукта нужно вернуть его название и количество.
Параметры функции expire()
У функции expire() должно быть два параметра:

expire(items, in_advance_days=0) 
items — словарь, который хранит список продуктов (goods).
in_advance_days — число дней, оставшееся до истечения срока годности продукта. Например, если указать in_advance_days = 2, то функция должна вернуть все продукты, срок хранения которых уже истёк и истекает завтра (первый день) или послезавтра (второй день).

По умолчанию in_advance_days должно быть равно 0 (сегодняшний день). В этом случае функция должна вернуть продукты, срок хранения которых истёк на момент вызова.
Возвращаемое значение
Функция должна вернуть список кортежей, где первый элемент каждого кортежа — это название продукта, а второй — общее количество продукта.
Пример объявления и использования

import datetime
from decimal import Decimal

goods = {
    'Хлеб': [
        {'amount': Decimal('1'), 'expiration_date': None},
        {'amount': Decimal('1'), 'expiration_date': dt.date(2023, 12, 9)}
    ],
    'Яйца': [
        {'amount': Decimal('2'), 'expiration_date': dt.date(2023, 12, 12)},
        {'amount': Decimal('3'), 'expiration_date': dt.date(2023, 12, 11)}
    ],
    'Вода': [{'amount': Decimal('100'), 'expiration_date': None}]
}

def expire(items, in_advance_days=0):
    pass

# Если функция вызвана 10 декабря 2023 года
print(expire(goods))
# Вывод: [('Хлеб', Decimal('1'))]
print(expire(goods, 1))
# Вывод: [('Хлеб', Decimal('1')), ('Яйца', Decimal('3'))]
print(expire(goods, 2))
# Вывод: [('Хлеб', Decimal('1')), ('Яйца', Decimal('5'))]
